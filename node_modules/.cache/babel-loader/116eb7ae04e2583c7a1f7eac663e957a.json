{"ast":null,"code":"import _objectSpread from \"C:/Users/chadl/Music/blog-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nexport default {\n  name: 'app',\n  components: {},\n  mounted: function mounted() {\n    var cart = JSON.parse(localStorage.getItem(\"cart\")) ? JSON.parse(localStorage.getItem(\"cart\")) : []; // READ\n\n    console.log(cart);\n\n    function readCart(cart) {\n      document.querySelector(\"#cart\").innerHTML = \"\";\n      var total = cart.reduce(function (total, product) {\n        return total + product.price * product.qty;\n      }, 0).toFixed(2);\n      cart.forEach(function (product, position) {\n        document.querySelector(\"#cart\").innerHTML += \"\\n      <div class=\\\"card mb-3 w-100  position-relative\\\" >\\n      <button type=\\\"button\\\" class=\\\"position-absolute top-0 start-100 translate-middle badge btn btn-danger\\\" onclick=\\\"removeFromCart(\".concat(position, \")\\\">X</button>\\n        <div class=\\\"row g-0\\\">\\n          <div class=\\\"col-md-4\\\">\\n            <img src=\\\"\").concat(product.img, \"\\\" class=\\\"img-fluid rounded-start\\\" alt=\\\"...\\\">\\n          </div>\\n          <div class=\\\"col-md-8\\\">\\n            <div class=\\\"card-body d-flex flex-column container\\\">\\n              <h5 class=\\\"card-title mb-3\\\">\").concat(product.title, \"</h5>\\n              <div class=\\\"d-flex mb-3 justify-content-between\\\">\\n                <p class=\\\"card-text\\\">Individual price: </p>\\n                <span>R\").concat(product.price, \"<span>\\n              </div>\\n              <div class=\\\"d-flex mb-3 justify-content-between\\\">\\n                <label class=\\\"form-label\\\">Quantity:</label>\\n                <input type=\\\"number\\\" min=1 id=\\\"remove\").concat(position, \"\\\" value=\").concat(product.qty, \" onchange=\\\"updateCart(\").concat(position, \")\\\" />\\n              </div>\\n              <div class=\\\"card-footer bg-white d-flex justify-content-between  p-0 pt-3\\\">\\n                <p>Total Cost: </p>\\n                <span>R\").concat((parseFloat(product.price) * parseInt(product.qty)).toFixed(2), \"</span>\\n              </div>\\n            </div>  \\n          </div>\\n        </div>\\n      </div>\\n    \");\n      });\n      showCartBadge();\n      document.querySelector(\"#cart-footer\").innerHTML += \"\\n    <h3>Total cost: R\".concat(total, \"</h3>\\n    <button class=\\\"btn btn-primary btn-lg\\\" onclick=\\\"checkout()\\\">\\n      Checkout\\n    </button>\\n  \");\n    } // Update Cart Badge\n\n\n    function showCartBadge() {\n      document.querySelector(\"#badge\").innerHTML = cart ? cart.length : \"\";\n    }\n\n    readCart(cart); // UPDATE\n\n    function updateCart(position) {\n      var qty = document.querySelector(\"#remove\".concat(position)).value;\n      cart[position] = _objectSpread(_objectSpread({}, cart[position]), {}, {\n        qty: qty\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      readCart(cart);\n    } // REMOVE\n\n\n    function removeFromCart(position) {\n      var confirmation = confirm(\"Are you sure you want to remove this product from the cart?\");\n\n      if (confirmation) {\n        cart.splice(position, 1);\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n        readCart(cart);\n      }\n    } // CHECKOUT\n\n\n    function checkout() {\n      var total = cart.reduce(function (total, product) {\n        return total + product.price * product.qty;\n      }, 0).toFixed(2);\n\n      try {\n        if (parseInt(total) == 0) throw new Error(\"Nothing in cart\");\n        var confirmation = confirm(\"Total payment needed: R\".concat(total));\n\n        if (confirmation) {\n          cart.length = 0;\n          localStorage.removeItem(\"cart\");\n          readCart(cart);\n        }\n      } catch (err) {\n        alert(err);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","components","mounted","cart","JSON","parse","localStorage","getItem","console","log","readCart","document","querySelector","innerHTML","total","reduce","product","price","qty","toFixed","forEach","position","img","title","parseFloat","parseInt","showCartBadge","length","updateCart","value","setItem","stringify","removeFromCart","confirmation","confirm","splice","checkout","Error","removeItem","err","alert"],"sourceRoot":"","sources":["C:/Users/chadl/Music/blog-project/src/views/Cart.vue"],"sourcesContent":["\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n  },\r\n  mounted() {\r\n   const cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n  ? JSON.parse(localStorage.getItem(\"cart\"))\r\n  : [];\r\n\r\n// READ\r\nconsole.log(cart);\r\nfunction readCart(cart) {\r\n  document.querySelector(\"#cart\").innerHTML = \"\";\r\n\r\n  let total = cart\r\n    .reduce((total, product) => {\r\n      return total + product.price * product.qty;\r\n    }, 0)\r\n    .toFixed(2);\r\n\r\n  cart.forEach((product, position) => {\r\n    document.querySelector(\"#cart\").innerHTML += `\r\n      <div class=\"card mb-3 w-100  position-relative\" >\r\n      <button type=\"button\" class=\"position-absolute top-0 start-100 translate-middle badge btn btn-danger\" onclick=\"removeFromCart(${position})\">X</button>\r\n        <div class=\"row g-0\">\r\n          <div class=\"col-md-4\">\r\n            <img src=\"${product.img}\" class=\"img-fluid rounded-start\" alt=\"...\">\r\n          </div>\r\n          <div class=\"col-md-8\">\r\n            <div class=\"card-body d-flex flex-column container\">\r\n              <h5 class=\"card-title mb-3\">${product.title}</h5>\r\n              <div class=\"d-flex mb-3 justify-content-between\">\r\n                <p class=\"card-text\">Individual price: </p>\r\n                <span>R${product.price}<span>\r\n              </div>\r\n              <div class=\"d-flex mb-3 justify-content-between\">\r\n                <label class=\"form-label\">Quantity:</label>\r\n                <input type=\"number\" min=1 id=\"remove${position}\" value=${\r\n      product.qty\r\n    } onchange=\"updateCart(${position})\" />\r\n              </div>\r\n              <div class=\"card-footer bg-white d-flex justify-content-between  p-0 pt-3\">\r\n                <p>Total Cost: </p>\r\n                <span>R${(\r\n                  parseFloat(product.price) * parseInt(product.qty)\r\n                ).toFixed(2)}</span>\r\n              </div>\r\n            </div>  \r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  showCartBadge();\r\n  document.querySelector(\"#cart-footer\").innerHTML += `\r\n    <h3>Total cost: R${total}</h3>\r\n    <button class=\"btn btn-primary btn-lg\" onclick=\"checkout()\">\r\n      Checkout\r\n    </button>\r\n  `;\r\n}\r\n\r\n// Update Cart Badge\r\nfunction showCartBadge() {\r\n  document.querySelector(\"#badge\").innerHTML = cart ? cart.length : \"\";\r\n}\r\n\r\nreadCart(cart);\r\n\r\n// UPDATE\r\nfunction updateCart(position) {\r\n  let qty = document.querySelector(`#remove${position}`).value;\r\n  cart[position] = { ...cart[position], qty };\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  readCart(cart);\r\n}\r\n\r\n// REMOVE\r\nfunction removeFromCart(position) {\r\n  let confirmation = confirm(\r\n    \"Are you sure you want to remove this product from the cart?\"\r\n  );\r\n\r\n  if (confirmation) {\r\n    cart.splice(position, 1);\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    readCart(cart);\r\n  }\r\n}\r\n\r\n// CHECKOUT\r\nfunction checkout() {\r\n  let total = cart\r\n    .reduce((total, product) => {\r\n      return total + product.price * product.qty;\r\n    }, 0)\r\n    .toFixed(2);\r\n  try {\r\n    if (parseInt(total) == 0) throw new Error(\"Nothing in cart\");\r\n    let confirmation = confirm(`Total payment needed: R${total}`);\r\n\r\n    if (confirmation) {\r\n      cart.length = 0;\r\n      localStorage.removeItem(\"cart\");\r\n      readCart(cart);\r\n    }\r\n  } catch (err) {\r\n    alert(err);\r\n  }\r\n}\r\n\r\n  },\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}