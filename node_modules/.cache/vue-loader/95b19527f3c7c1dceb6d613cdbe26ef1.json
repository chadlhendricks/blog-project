{"remainingRequest":"/home/lifechoices/Documents/Blog-Front-End/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/lifechoices/Documents/Blog-Front-End/src/components/ProductPage.vue?vue&type=style&index=0&id=2e39931e&scoped=true&lang=css","dependencies":[{"path":"/home/lifechoices/Documents/Blog-Front-End/src/components/ProductPage.vue","mtime":1648648330926},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lifechoices/Documents/Blog-Front-End/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5wcm9kdWN0c3sKICBwYWRkaW5nLXRvcDogNyU7CiAgIHBhZGRpbmctYm90dG9tOiA3JTsKICAgcGFkZGluZy1sZWZ0OiA4JTsKICAgaGVpZ2h0OiAxMDB2aDsKICAgb3ZlcmZsb3cteTogc2Nyb2xsOwp9Ci5jYXJkewogIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrOwogIG1hcmdpbjogMjBweDsKfQoucGljewogIGhlaWdodDogMjUwcHg7CiAgd2lkdGg6IDEwMCU7CiAgb2JqZWN0LWZpdDpjb3ZlciA7Cn0KaDEsaDUsaDN7CiAgY29sb3I6cmVkOwp9Ci5uYXYtbGlua3sKICBjb2xvcjp3aGl0ZSAhaW1wb3J0YW50Owp9Ci5uYXYtbGluazpob3ZlcnsKICBjb2xvcjpyZWQgIWltcG9ydGFudDsKfQoubmF2LWxpbms6Zm9jdXN7CiAgY29sb3I6cmVkICFpbXBvcnRhbnQ7Cn0KdWx7CiAgbGlzdC1zdHlsZTogbm9uZTsKfQouZHJvcHBpZXsKICBib3JkZXI6IG5vbmU7CiAgYmFja2dyb3VuZDogbm9uZTsKICBwYWRkaW5nLWxlZnQ6IDUwcHg7Cn0KLmRyb3BwaWU6aG92ZXJ7CmNvbG9yOiByZWQ7CiAgYmFja2dyb3VuZDogbm9uZTsKICBwYWRkaW5nLWxlZnQ6IDUwcHg7Cn0KCi5idG57CiAgbWFyZ2luOjIwcHggOwp9CkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTAwcHgpIHsKLnByb2R1Y3RzewogICAgcGFkZGluZy10b3A6IDE1JTsKICAgIHBhZGRpbmctYm90dG9tOiAxNSU7Cn0KLmNhcmR7CiAgICB3aWR0aDogODAlOwp9Cgp9Cg=="},{"version":3,"sources":["/home/lifechoices/Documents/Blog-Front-End/src/components/ProductPage.vue"],"names":[],"mappings":"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","file":"/home/lifechoices/Documents/Blog-Front-End/src/components/ProductPage.vue","sourceRoot":"","sourcesContent":["<template>\n<div class=\"products\">\n <the-loader></the-loader>\n\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-dark fixed-top\">\n  <div class=\"container-fluid\">\n   <h1 style=\"margin-right:50px;\">PRODUCTS</h1>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n        <li class=\"nav-item\">\n            <!-- Button trigger modal for add product -->\n<a class=\"nav-link\" style=\"cursor:pointer;\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n  Add a product\n</a>\n        </li>\n        \n        <li class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            Sort by\n          </a>\n          <ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li><button class=\"droppie\"  @submit.prevent=\"filteredProducts\">Price</button></li>\n              <li><hr class=\"dropdown-divider\"></li>\n            <li><button class=\"droppie\"  @submit.prevent=\"filteredProducts\">Name</button></li>\n          \n          </ul>\n        </li>\n         <li class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown1\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            Catergory\n          </a>\n          <ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown1\" >\n            <li><button  @submit.prevent=\"filterProductsByCategory\" value=\"Shoes\" class=\"droppie\">Shoes</button></li>\n              <li><hr class=\"dropdown-divider\"></li>\n            <li><button  @submit.prevent=\"filterProductsByCategory\" value=\"Accessories\" class=\"droppie\">Accessories</button></li>\n            <li><hr class=\"dropdown-divider\"></li>\n            <li><button  @submit.prevent=\"filterProductsByCategory\" value=\"Clothing\" class=\"droppie\">Clothing</button></li>\n          </ul>\n        </li>\n        <li>\n        \n           <!-- <form class=\"d-flex\" @submit.prevent=\"filteredProducts\">\n             <input class=\"form-control me-2\" style=\"height:40px; margin:20px;\" type=\"search\" v-model=\"hello\" placeholder=\"Search\" aria-label=\"Search\">\n                     <button class=\"btn btn-outline-danger\"   type=\"submit\">Search</button>\n          </form> -->\n        </li>\n      </ul>\n       <!-- <router-link class=\"nav-link\" to=\"/add\">ADD A PRODUCT</router-link> -->\n         <router-link class=\"nav-link\" to=\"/cart\">CART</router-link>\n            <router-link class=\"nav-link\" to=\"/profiles\">PROFILE</router-link>\n            <router-link class=\"nav-link\" to=\"/\">LOG OUT</router-link>\n    </div>\n  </div>\n</nav>\n\n\n<!-- Modal for add  product -->\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add Nike</h5>\n        \n        <button type=\"button\" class=\"btn-close btn-danger\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n       <form @submit.prevent=\"createProduct\">\n        <ul>\n          <li>NAME</li>\n          <li> <input v-model=\"name\" required type=\"text\"></li>\n          <li>PRICE</li>\n          <li> <input v-model=\"price\" required type=\"number\"></li>\n          <li>IMAGE URL</li>\n          <li> <input v-model=\"img\" required  type=\"text\"></li>\n<label for=\"genre\">CATEGORY:</label>\n<select id=\"genre\" v-model=\"category\" name=\"genre\">\n  <option value=\"Shoes\">Shoes</option>\n  <option value=\"Accessories\">Accessories</option>\n  <option value=\"Clothing\">Clothing</option>\n\n</select>        </ul>\n\n       \n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n          <button type=\"submit\" class=\"btn btn-success\">Save changes</button>\n        </div>\n       </form>\n      </div>\n     \n    </div>\n  </div>\n</div>\n\n<!-- Modal for edit  product -->\n<div class=\"modal fade\" id=\"exampleModal1\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel1\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">EDIT NIKE</h5>\n        <p>(not working yet)</p>\n        \n        <button type=\"button\" class=\"btn-close btn-danger\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n       <form @submit.prevent=\"updateProduct\">\n    <ul>\n      <li>NAME</li>\n      <li> <input v-model=\"name\" required type=\"text\"></li>\n      <li>PRICE</li>\n<li> <input v-model=\"price\" required type=\"number\"></li>\n<li>IMAGE URL</li>\n<li> <input v-model=\"img\" required  type=\"text\"></li>\n<label for=\"genre\">CATEGORY:</label>\n<select id=\"genre\" v-model=\"category\" name=\"genre\">\n  <option value=\"Shoes\">Shoes</option>\n  <option value=\"Accessories\">Accessories</option>\n  <option value=\"Clothing\">Clothing</option>\n\n</select>          </ul>\n          <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n        <button type=\"submit\" class=\"btn btn-success\">Save changes</button>\n      </div>\n       </form>\n      </div>\n     \n    </div>\n  </div>\n</div>\n\n  \n<div class=\"container\">\n<div class=\"row\">\n\n<div v-for=\"product of products \" :key=\"product.name\" class=\"card col-lg-3\">\n<img :src=\"product.img\" alt=\"pik\" class=\"pic\">\n<h3>{{product.name}}</h3>\n<p>R{{product.price}}</p>\n<p>{{product.category}}</p>\n<button class=\"btn btn-success\">ADD TO CART</button>\n<div style=\"margin-left:15%;\" class=\"d-flex\">\n<button @click.prevent=\"deleteProduct(product._id)\" class=\"btn  btn-danger\" style=\"margin:10px;\">DELETE</button>\n<button  class=\"btn butt btn-secondary\" style=\"margin:10px;\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal1\">\n  EDIT \n</button>\n</div>\n  \n</div>\n\n</div>\n</div>\n\n\n\n</div>\n\n</template>\n\n<script>\nimport TheLoader from \"@/components/TheLoader.vue\";\nimport axios from \"axios\";\nexport default {\ncomponents:{\n  TheLoader\n},\n  data() {\n    return {\n      products: null,\n      name:\"\",\n      category:\"\",\n      price:\"\",\n      img:\"\",\n       search: \"\",\n       hello:\"\"\n\n    };\n  },\n  // fetching product\n  mounted() {\n    if (localStorage.getItem(\"jwt\")) {\n      fetch(\"https://fente.herokuapp.com/products\", {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        },\n      })\n        .then((response) => response.json())\n        .then((json) => {\n          this.products = json;\n          this.products.forEach(async (product) => {\n            await fetch(\n              \"https://fente.herokuapp.com/products\" + product.author,\n              {\n                method: \"GET\",\n                headers: {\n                  \"Content-type\": \"application/json; charset=UTF-8\",\n                  Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                },\n              }\n            )\n              .then((response) => response.json())\n              \n              .then((json) => {\n                product.author = json._id;\n              });\n          });\n        })\n        .catch((err) => {\n          alert(\"Not logged in\");\n          this.$router.push({ name: \"Login\" })\n        });\n    } else {\n      alert(\"Login failed\");\n      this.$router.push({ name: \"Login\" });\n    }\n    \n  },\n   methods: {\n    //  create\n    createProduct() {\n      if (!localStorage.getItem(\"jwt\")) {\n        alert(\"User not logged in\");\n        return this.$router.push({ name: \"Login\" });\n      }\n      fetch(\"https://nike-store-api.herokuapp.com/products\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          name: this.name,\n          category: this.category,\n          price: this.price,\n          img: this.img,\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        },\n      })\n        .then((response) => response.json())\n\n        .then((json) => {\n          alert(\"Product Created (REFRESH TO SEE ITEM)\");\n          this.$router.push({ name: \"Products\" });\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    },\n    // update\n    updateProduct() {\n      if (!localStorage.getItem(\"jwt\")) {\n        alert(\"User not logged in\");\n        return this.$router.push({ name: \"Login\" });\n      }\n      fetch(\"https://nike-store-api.herokuapp.com/products/\" + products._id, {\n        method: \"PUT\",\n        body: JSON.stringify({\n          name: this.name,\n          category: this.category,\n          price: this.price,\n          img: this.img,\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        },\n      })\n        .then((response) => response.json())\n        .then((json) => {\n          alert(\"Product Edited\");\n          this.$router.push({ name: \"Products\" });\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    },\n    // delete product\n    deleteProduct(id){\n      const config = {\n  headers:{\n    \"Content-type\": \"application/json; charset=UTF-8\",\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n  }\n};\n                let apiURL = `https://nike-store-api.herokuapp.com/products/${id}`;\n                \n                let indexOfArrayItem = this.products.findIndex(i => i._id === id);\n\n                if (window.confirm(\"Do you really want to delete?\")) {\n\n                    axios.delete(apiURL, config).then(() => {\n                        this.products.splice(indexOfArrayItem, 1);\n                    }).catch(error => {\n                        console.log(error)\n                    });\n                }\n            }\n  },\n    // search\n      computed: {\n    filteredProducts: function() {\n      return this.products.filter((product) => {\n        return product.name.match(this.hello)\n      })\n    },\n    filteredProductsByName() {\n    let tempproducts = this.products\n  \n    // Sort by alphabetical order\n        tempproducts = tempproducts.sort((a, b) => {\n            if (this.sortBy == 'alphabetically') {\n                let fa = a.name.toLowerCase(), fb = b.name.toLowerCase()\n          \n              if (fa < fb) {\n                return -1\n              }\n              if (fa > fb) {\n                return 1 \n              }\n              return 0\n              \n            } \n        })\n    \n       \n        \n        return tempproducts\n  },\n  // find\n    filterProductsByCategory: function(){\n                return this.products.filter(product => !product.category.indexOf(this.category))\n            }\n}\n      \n};\n</script>\n\n<style scoped>\n.products{\n  padding-top: 7%;\n   padding-bottom: 7%;\n   padding-left: 8%;\n   height: 100vh;\n   overflow-y: scroll;\n}\n.card{\n  border: 2px solid black;\n  margin: 20px;\n}\n.pic{\n  height: 250px;\n  width: 100%;\n  object-fit:cover ;\n}\nh1,h5,h3{\n  color:red;\n}\n.nav-link{\n  color:white !important;\n}\n.nav-link:hover{\n  color:red !important;\n}\n.nav-link:focus{\n  color:red !important;\n}\nul{\n  list-style: none;\n}\n.droppie{\n  border: none;\n  background: none;\n  padding-left: 50px;\n}\n.droppie:hover{\ncolor: red;\n  background: none;\n  padding-left: 50px;\n}\n\n.btn{\n  margin:20px ;\n}\n@media only screen and (max-width: 500px) {\n.products{\n    padding-top: 15%;\n    padding-bottom: 15%;\n}\n.card{\n    width: 80%;\n}\n\n}\n</style>"]}]}